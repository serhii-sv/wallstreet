(()=>{var e=$(".sidenav-main"),n=($(".content-overlay"),$(".navbar .nav-collapsible")),t=$("#breadcrumbs-wrapper");function o(){e.hasClass("nav-expanded")&&!e.hasClass("nav-lock")?(e.toggleClass("nav-expanded"),$("#main").toggleClass("main-full")):$("#main").toggleClass("main-full")}function a(){if(!$(".sidenav-main.nav-collapsible").hasClass("nav-lock")){var e=$(".collapsible .open").children().length;$(".sidenav-main.nav-collapsible, .navbar .nav-collapsible").addClass("nav-collapsed").removeClass("nav-expanded"),$("#slide-out > li.open > a").parent().addClass("close").removeClass("open"),setTimeout((function(){if(e>1){var n=$(".sidenav-main .collapsible");M.Collapsible.getInstance(n).close($(".collapsible .close").index())}}),100)}}$("body").hasClass("menu-collapse")&&$(window).width()>993&&(e.removeClass("nav-lock"),$(".nav-collapsible .navbar-toggler i").text("radio_button_unchecked"),n.removeClass("sideNav-lock"),o(),a()),$(window).on("load",(function(){$("body").removeClass("preload-transitions")})),$((function(){"use strict";function i(){var e=" -webkit- -moz- -o- -ms- ".split(" ");return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)||function(e){return window.matchMedia(e).matches}(["(",e.join("touch-enabled),("),"heartz",")"].join(""))}$(".sidenav-main .sidenav").find("li.active").parents("li").addClass("active"),$(".tabs").tabs(),$(".datepicker").datepicker({autoClose:!0,format:"dd/mm/yyyy",container:"body",onDraw:function(){$(".datepicker-container").find(".datepicker-select").addClass("browser-default"),$(".datepicker-container .select-dropdown.dropdown-trigger").remove()}}),$("#tabs-swipe-demo").length&&$("#tabs-swipe-demo").tabs({swipeable:!0}),$("select").formSelect();var l=document.getElementById("indeterminate-checkbox");null!==l&&(l.indeterminate=!0),$(".slider").slider({full_width:!0}),$(".dropdown-trigger").dropdown(),$(".dropdown-button").dropdown({inDuration:300,outDuration:225,constrainWidth:!1,hover:!0,gutter:0,coverTrigger:!0,alignment:"left"}),$("#notifications-dropdown li.notification").on("click",(function(e){var n;if(e.preventDefault(),parseInt($(".notification-button").find(".notification-badge").text())>0){var t=parseInt($(this).attr("data-id"));$.ajax({url:"/ajax/notification/status/read",method:"post",data:"id="+t,headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},success:function(e){var o=$.parseJSON(e);console.log(o),"good"==o.status&&($("#notifications-dropdown li.notification[data-id='"+t+"']").remove(),n=o.notification_count,$(".notification-button").find(".notification-badge").text(n),$("#notifications-dropdown").find("h6 span.badge").text(n),$(".notification-button").find(".notification-badge").text(n),0==n&&($(".notification-button").find(".notification-badge").remove(),$("#notifications-dropdown").find("h6 span.badge").remove(),$("#notifications-dropdown").append('<li><a class="black-text" href="" style="display: flex; align-items: flex-start"> <span class="material-icons icon-bg-circle red small " style="display: block;">notifications_none</span>  <small style="font-size: 14px; display: block;">  Уведомлений больше нет </small></a></li>')))}})}else $(".notification-button").find(".notification-badge").remove(),$("#notifications-dropdown").find("h6 span.badge").remove()})),$(".notification-button, .profile-button, .translation-button, .dropdown-settings").dropdown({inDuration:300,outDuration:225,constrainWidth:!1,hover:!1,gutter:0,coverTrigger:!1,alignment:"right",closeOnClick:!1}),$(".dropdown-menu").dropdown({inDuration:300,outDuration:225,constrainWidth:!1,hover:!1,gutter:0,coverTrigger:!1,alignment:"right",closeOnClick:!1}),$(".dropdownSub-menu").dropdown({closeOnClick:!1,constrainWidth:!1,alignment:"left",inDuration:300,outDuration:225,gutter:0,coverTrigger:!0,hover:!0}),$(".dropdown-submenu").on("mouseenter",(function(){var e=$(this);$(this).find(".dropdownSub-menu").dropdown("open");var n=e.find(".dropdown-content");if(n){var t=n.offset().left,o=n.width();$("html[data-textdirection='rtl']").length>0?t>=o?e.find(".dropdown-content").removeClass("right-open").addClass("left-open"):e.find(".dropdown-content").removeClass("left-open").addClass("right-open"):window.innerWidth-(t+o)<=o?e.find(".dropdown-content").removeClass("left-open").addClass("right-open"):e.find(".dropdown-content").removeClass("right-open").addClass("left-open")}})),$(".dropdown-submenu").on("mouseleave",(function(){var e=$(this);e.find(".dropdownSub-menu").dropdown("close"),e.find(".dropdown-content").removeClass("right-open"),e.find(".dropdown-content").removeClass("left-open")})),$(".fixed-action-btn").floatingActionButton(),$(".fixed-action-btn.horizontal").floatingActionButton({direction:"left"}),$(".fixed-action-btn.click-to-toggle").floatingActionButton({direction:"left",hoverEnabled:!1}),$(".fixed-action-btn.toolbar").floatingActionButton({toolbarEnabled:!0}),$(".tab-demo").show().tabs(),$(".tab-demo-active").show().tabs(),$(".scrollspy").scrollSpy(),$(".tooltipped").tooltip({delay:50});var s=document.querySelectorAll(".collapsible");M.Collapsible.init(s);var d=document.querySelector(".collapsible.expandable");M.Collapsible.init(d,{accordion:!1});if(t.attr("data-image")){var c=t.attr("data-image");t.addClass("breadcrumbs-bg-image"),t.css("background-image","url("+c+")")}var r,u=$("li.active .collapsible-sub .collapsible"),v=document.querySelectorAll(".sidenav-main .collapsible");if(M.Collapsible.init(v,{accordion:!0,onOpenStart:function(){$(".collapsible > li.open").removeClass("open"),setTimeout((function(){$("#slide-out > li.active > a").parent().addClass("open")}),10)}}),$("body").hasClass("menu-collapse")){var p=$(".sidenav-main .collapsible");$("#slide-out > li.active").children().length>1&&$("#slide-out > li.active > a").parent().addClass("close"),M.Collapsible.getInstance(p).close($(".collapsible .close").index())}else $("#slide-out > li.active").children().length>1&&$("#slide-out > li.active > a").parent().addClass("open");if(u.find("a.active").length>0&&(u.find("a.active").closest("div.collapsible-body").show(),u.find("a.active").closest("div.collapsible-body").closest("li").addClass("active")),r=$(".sidenav-main li a.active").parent("li.active").parent("ul.collapsible-sub").length>0?$(".sidenav-main li a.active").parent("li.active").parent("ul.collapsible-sub").position():$(".sidenav-main li a.active").parent("li.active").position(),setTimeout((function(){void 0!==r&&$(".sidenav-main ul").stop().animate({scrollTop:r.top-300},300)}),300),$(".nav-collapsible .navbar-toggler").click((function(){o(),"radio_button_unchecked"==$(this).children().text()?($(this).children().text("radio_button_checked"),e.addClass("nav-lock"),n.addClass("sideNav-lock")):($(this).children().text("radio_button_unchecked"),e.removeClass("nav-lock"),n.removeClass("sideNav-lock"))})),$(".sidenav-main.nav-collapsible, .navbar .brand-sidebar").mouseenter((function(){$(".sidenav-main.nav-collapsible").hasClass("nav-lock")||($(".sidenav-main.nav-collapsible, .navbar .nav-collapsible").addClass("nav-expanded").removeClass("nav-collapsed"),$("#slide-out > li.close > a").parent().addClass("open").removeClass("close"),setTimeout((function(){if($(".collapsible .open").children().length>1){var e=$(".sidenav-main .collapsible");M.Collapsible.getInstance(e).open($(".collapsible .open").index())}}),100))})),$(".sidenav-main.nav-collapsible, .navbar .brand-sidebar").mouseleave((function(){a()})),$(".sidenav").sidenav({edge:"left"}),$(".slide-out-right-sidenav").sidenav({edge:"right"}),$(".slide-out-right-sidenav-chat").sidenav({edge:"right"}),i())$(".leftside-navigation,.slide-out-right-body, .chat-body .collection, #ul-horizontal-nav").css("overflow","scroll");else{if($("#slide-out.leftside-navigation").length>0&&!$("#slide-out.leftside-navigation").hasClass("native-scroll"))new PerfectScrollbar(".leftside-navigation",{wheelSpeed:2,wheelPropagation:!1,minScrollbarLength:20});if($(".carousel-slider").length>0&&!$(".carousel-slider").hasClass("native-scroll"))new PerfectScrollbar(".carousel-slider",{wheelSpeed:2,wheelPropagation:!1,minScrollbarLength:20});if($(".slide-out-right-body").length>0)new PerfectScrollbar(".slide-out-right-body #messages, .chat-body .collection",{suppressScrollX:!0,wheelPropagation:!1}),new PerfectScrollbar(".slide-out-right-body #activity",{suppressScrollX:!0,wheelPropagation:!1})}$("#messages .header-search-input").on("keyup",(function(){$(".chat-user").css("animation","none");var e=$(this).val().toLowerCase();""!=e?$(".right-sidebar-chat .right-sidebar-chat-item").filter((function(){$(this).toggle($(this).text().toLowerCase().indexOf(e)>-1)})):$(".right-sidebar-chat .right-sidebar-chat-item").show()}));var m=$("#right-sidebar-nav #slide-out-chat .chat-body .collection");function i(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}m.length>0&&(m[0].scrollTop=m[0].scrollHeight),$(".toggle-fullscreen").click((function(e){e.preventDefault(),document.fullScreenElement&&null!==document.fullScreenElement||!document.mozFullScreen&&!document.webkitIsFullScreen?document.documentElement.requestFullScreen?document.documentElement.requestFullScreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullScreen?document.documentElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):document.documentElement.msRequestFullscreen&&(document.msFullscreenElement?document.msExitFullscreen():document.documentElement.msRequestFullscreen()):document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()})),i()&&$("#nav-mobile").css({overflow:"auto"}),$("#ul-horizontal-nav li.active").length>0&&$("#ul-horizontal-nav li.active").closest("ul").parents("li").addClass("active"),$("html[data-textdirection='rtl']").length>0&&($(".sidenav").sidenav({edge:"right"}),$(".slide-out-right-sidenav").sidenav({edge:"left"}),$(".slide-out-right-sidenav-chat").sidenav({edge:"left"}))})),$(window).on("resize",(function(){$(window).width()<994?e.hasClass("nav-collapsed")&&(e.removeClass("nav-collapsed").addClass("nav-lock nav-expanded"),n.removeClass("nav-collapsed").addClass("sideNav-lock")):$(window).width()>993&&$("body").hasClass("menu-collapse")&&e.hasClass("nav-lock")&&(e.removeClass("nav-lock nav-expanded").addClass("nav-collapsed"),n.removeClass("sideNav-lock").addClass("nav-collapsed"))}))})();